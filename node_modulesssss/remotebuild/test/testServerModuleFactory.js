// Copyright (c) Microsoft Corporation. All rights reserved.
// Licensed under the MIT license. See LICENSE file in the project root for details.
"use strict";
/// <reference path="../../typings/remotebuild.d.ts" />
/// <reference path="../../typings/express.d.ts" />
/// <reference path="../../typings/node.d.ts" />
var express = require("express");
var Q = require("q");
var TestServerModuleFactory = (function () {
    function TestServerModuleFactory() {
    }
    TestServerModuleFactory.create = function (conf, modConfig, serverCapabilities) {
        TestServerModuleFactory.TestServerModule.modConfig = modConfig;
        return Q(new TestServerModuleFactory.TestServerModule());
    };
    return TestServerModuleFactory;
}());
var TestServerModuleFactory;
(function (TestServerModuleFactory) {
    var TestServerModule = (function () {
        function TestServerModule() {
        }
        TestServerModule.prototype.getRouter = function () {
            var router = express.Router();
            router.all("*", function (req, res) {
                TestServerModule.lastReq = req;
                res.sendStatus(200);
            });
            return router;
        };
        TestServerModule.prototype.shutdown = function () {
            TestServerModule.isShutDown = true;
        };
        TestServerModule.isShutDown = false;
        TestServerModule.lastReq = null;
        TestServerModule.modConfig = null;
        return TestServerModule;
    }());
    TestServerModuleFactory.TestServerModule = TestServerModule;
})(TestServerModuleFactory || (TestServerModuleFactory = {}));
module.exports = TestServerModuleFactory;

//# sourceMappingURL=testServerModuleFactory.js.map
